<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:pxt="http://www.peixoto.com.br/pxtFaces"
	xmlns:pxtfl="http://www.peixoto.com.br/jsf"
	xmlns:pxtfc="http://www.peixoto.com.br/jsf/core">

<ui:composition template="/META-INF/facelets/templates/crud.xhtml">
	<ui:param name="form_id" value="formPedido" />
	<ui:param name="backingBean" value="#{pedidoBean}" />
	<ui:param name="titulo" value="Pedido" />

	<ui:define name="table"></ui:define>
	<ui:define name="panelCadastro">

		<pxt:panelGrid id="panelCodigoDescricao" columnsWidth="100%;"
			width="100%">

			<pxtfl:searchField value="Adicionar" id="searchPedido"
				controller="#{pedidoBean.searchProduto}" modalTitle="Pedido(s)"
				multiple="true" type="button" clearFields="true"
				render="slcTpPedido,slcFormPag,slcFilFat,slcFilEtq,slcBloqueio,iptNumPedVnd,tabelaProdutos@this"
				styleClass="btnToolbar"
				style="background:transparent url(#{facesContext.externalContext.requestContextPath}/resources/img/search2_16x16.png) no-repeat left"
				disabledOn="#{pedidoBean.disabledOnDefault}">
				<ui:define name="filtros">
					<pxt:panelGrid columnsWidth="10%;90%">
						<h:outputText value="Código:" styleClass="outputText" />
						<h:inputText
							value="#{pedidoBean.searchProduto.searchObject.codigo}"
							style="width: 15%;">
							<pxt:onlyNumber />
						</h:inputText>
						<h:outputText value="Descrição:" styleClass="outputText" />
						<h:inputText
							value="#{pedidoBean.searchProduto.searchObject.descricao}"
							style="width: 15%;">
						</h:inputText>
					</pxt:panelGrid>
				</ui:define>
				<ui:define name="colunas">
					<pxtfl:column headerValue="Código" value="#{obj.codigo}"
						columnWidth="10%" />
					<pxtfl:column headerValue="Descrição" value="#{obj.descricao}"
						columnWidth="10%" />
				</ui:define>
			</pxtfl:searchField>

			<rich:panel id="tabPanelItens"
				bodyClass="pxt-rich-body-panel-detail zeroBodySpace">
				<rich:dataTable id="tabelaProdutos" var="item"
					rowClasses="pxt-odd-row, pxt-even-row"
					value="#{pedidoBean.listaDeProdutosSelecionados}"
					styleClass="stable" footerClass="pxt-rf-dt-ftr-c"
					rowKeyVar="keyVar" rows="14" render="tabelaProdutosScroller">
					<ui:param name="columnGroupId" value="tabelaProdutos" />
					<pxtfl:column headerValue="Código" value="#{produto.codigo}"
						textAlign="center" />
					<pxtfl:column headerValue="Descrição" value="#{produto.descricao}" />
					<pxtfl:column headerValue="Preço" value="#{produto.preco}" />
					<rich:column value="#{quantidade}">
						<f:facet name="header">
							<h:outputText value="Quantidade" />
						</f:facet>
						<h:inputText value="#{quantidade}" id="Quantidade"
							style="background: none; text-align: center; text-align: center; width: 100%; border-style:solid; border-color:#85ADE5; border-radius:3px;">
							<pxt:onlyNumber />
						</h:inputText>
					</rich:column>
				</rich:dataTable>
			</rich:panel>

		</pxt:panelGrid>
	</ui:define>
</ui:composition>
</html>
